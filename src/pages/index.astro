---
import Layout from "../layouts/Layout.astro";
import BasesPage from "../components/BasesPage/BasesPage";
import SubmitForm from "../components/SubmitForm/SubmitForm";
function scrollToSection(sectionId: string) {
  const section = document.getElementById(sectionId);
  section?.scrollIntoView({ behavior: "smooth" });
}
import { ScrollArrow } from "../components/ScrollArrow";
---

<Layout title="Welcome to Astro.">
  <div class="overflow-auto h-screen snap-y snap-mandatory no-scrollbar">
    <div
      parent-container
      class="flex justify-around items-center h-screen w-screen flex-col grow-0 outlined snap-center"
    >
      <div class="flex-[50%] relative flex justify-center items-center w-full">
        <img
          src="/crow-export.png"
          class="max-w-[800px] min-w-[800px] w-1/3 absolute z-10 animate-[float_4s_infinite]"
        />
        <img src="/Logo2.svg" class="max-w-[500px] min-w-[300px] w-1/3 z-20" />
      </div>

      <ScrollArrow client:only="react" />
      <div class="flex-[0.3]"></div>
    </div>
    <div
      id="secondContainer"
      parent-container
      class="flex justify-around items-center h-screen w-screen flex-col grow-0 outlined snap-center"
    >
      <BasesPage />

      <div class="flex-[0.3]">
        <button submit-button class="flex justify-self-end">Registro</button>
      </div>
    </div>
    <div
      parent-container
      id="lastContainer"
      class="flex justify-around items-center h-screen w-screen flex-col grow-0 outlined snap-center"
    >
      <SubmitForm client:only="react" />
      <div class="flex-[0.3]"></div>
    </div>
  </div>
  <script>
    const buttons = document.querySelectorAll("[submit-button]");
    buttons.forEach((button) =>
      button.addEventListener("click", () => scrollToSection("lastContainer"))
    );
    function scrollToSection(sectionId: string) {
      const section = document.getElementById(sectionId);
      section?.scrollIntoView({ behavior: "smooth" });
    }
  </script>
</Layout>
